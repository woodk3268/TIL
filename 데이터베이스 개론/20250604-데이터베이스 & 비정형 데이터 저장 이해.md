# 📚 데이터베이스 & 비정형 데이터 저장 이해

---

## ✅ 학습 주제

* 정보 시스템에서 DB의 역할과 중요성
* RDB와 NoSQL의 구조 차이 및 비정형 데이터 저장 방식
* 메타데이터 저장 이유 및 GridFS 등 구조적 이해

---

## 🧩 핵심 개념 요약

| 개념         | 설명                                             |
| ---------- | ---------------------------------------------- |
| 정보 시스템     | 데이터를 수집·저장·처리·전달해 조직의 의사결정과 업무를 지원하는 통합 시스템    |
| 데이터베이스(DB) | 데이터를 구조화하여 저장, 관리, 검색 가능한 저장소                  |
| RDB        | 정해진 스키마와 정형 데이터 중심의 관계형 DB                     |
| NoSQL      | 스키마 유연성과 비정형 데이터 처리에 최적화된 비관계형 DB              |
| 메타데이터      | 데이터의 의미를 설명하는 데이터 ("파일의 주소라벨" 역할)              |
| GridFS     | MongoDB의 대용량 파일 저장 기능. 파일을 조각으로 분할해 저장/스트리밍 지원 |

---

## ⚙️ RDB vs NoSQL 비교 (비정형 데이터 관점)

| 항목         | RDB (관계형 DB)        | NoSQL (비관계형 DB)                |
| ---------- | ------------------- | ------------------------------ |
| 구조         | 고정된 테이블/스키마         | 유연한 스키마 (스키마리스)                |
| 데이터 유형     | 정형 데이터 중심           | 정형 + 비정형 데이터                   |
| 대용량 파일 저장  | BLOB/CLOB 컬럼 (비효율적) | Binary 저장, GridFS 등 유연하게 처리 가능 |
| 스키마 유연성    | 스키마 변경 시 제약 많음      | 필드 추가/삭제 자유로움                  |
| 메타데이터 저장   | 별도 테이블 필요           | 문서 안에 자연스럽게 포함 가능              |
| 스트리밍/처리 기능 | 제한적                 | chunk 기반 분할 저장 및 스트리밍 용이       |
| 확장성        | 수직 확장 위주 (Scale-up) | 수평 확장 용이 (Scale-out 구조)        |

---

## 🧠 개념 정리 & 비유

* **DB는 냉장고/도서관**: 구조적으로 잘 정리된 저장소, 필요한 걸 꺼내쓰기 쉬움
* **RDB는 엑셀처럼 셀 구조가 명확**: 빠른 검색, 일관성 있는 처리에 강점
* **NoSQL은 상자처럼 유연한 저장 구조**: 넣는 대로 보관, 파일+정보 동시 저장 가능
* **메타데이터는 택배 상자의 주소라벨**: 데이터의 의미, 위치, 생성자 등을 설명해주는 키 정보

---

## 🔧 기술 예시

### 🟦 MongoDB GridFS 구조 (대용량 파일 저장)

```json
// fs.files 컬렉션
{
  "_id": "file123",
  "filename": "video.mp4",
  "uploadDate": "...",
  "length": 150000000,
  "chunkSize": 262144,
  "metadata": { "uploaded_by": "홍길동" }
}

// fs.chunks 컬렉션
{
  "files_id": "file123",
  "n": 0,
  "data": <binary chunk>
}
```

---

## 💡 인사이트 요약

* 정보 시스템의 중심은 ‘데이터’이며, DB는 이를 저장·관리·전달하는 핵심 구성 요소
* **RDB는 정형 데이터에 최적화**, **NoSQL은 유연성과 확장성이 필요한 비정형 데이터에 유리**
* 메타데이터는 **비정형 데이터의 활용성과 검색력을 높이는 열쇠**
* 썸네일 생성, 인코딩, 스트리밍 등은 **NoSQL + 외부 처리 서비스 구조**에서 유리하게 구성 가능

