# 📘 데이터베이스 시스템의 개념 정리

---

## ✅ 1. 데이터베이스 사용자 유형

| 사용자 유형          | 주요 역할                      | 사용하는 언어/도구           | 예시         |
| --------------- | -------------------------- | -------------------- | ---------- |
| **최종 사용자**      | UI나 애플리케이션을 통해 간접적으로 DB 사용 | 웹/앱 인터페이스            | 쇼핑몰 고객, 직원 |
| **응용 프로그래머**    | DB와 연결된 프로그램을 개발           | SQL + Java, Python 등 | 백엔드 개발자    |
| **전문 사용자**      | 복잡한 SQL로 데이터 직접 조회/분석      | SQL                  | 데이터 분석가    |
| **DB 관리자(DBA)** | 스키마 설계, 권한 부여, 성능 관리       | DDL, DCL, 시스템 도구     | 시스템 운영자    |

---

## ✅ 2. 데이터 언어 (Data Language)

| 분류  | 이름       | 역할             | 대표 명령어                                 | 설명       |
| --- | -------- | -------------- | -------------------------------------- | -------- |
| DDL | 정의어      | 테이블 등 DB 구조 정의 | `CREATE`, `ALTER`, `DROP`              | 스키마 설계용  |
| DML | 조작어      | 데이터를 조회/수정/삭제  | `SELECT`, `INSERT`, `UPDATE`, `DELETE` | 트랜잭션 대상  |
| DCL | 제어어      | 사용자 권한 설정      | `GRANT`, `REVOKE`                      | 보안/권한 관리 |
| TCL | 트랜잭션 제어어 | 작업 확정/취소       | `COMMIT`, `ROLLBACK`, `SAVEPOINT`      | 트랜잭션 처리  |

---

## ✅ 3. 데이터 독립성

| 유형          | 바뀌는 대상            | 영향을 받으면 안 되는 대상 | 핵심 의미                 |
| ----------- | ----------------- | --------------- | --------------------- |
| **논리적 독립성** | 개념 스키마 (테이블 구조 등) | 외부 스키마 (사용자 뷰)  | 테이블 구조 바뀌어도 사용자 영향 없음 |
| **물리적 독립성** | 내부 스키마 (저장 방식)    | 개념 스키마 (테이블 구조) | 저장 방식 바뀌어도 구조는 유지됨    |

### 예시

* 논리적 독립성: 칼럼 추가해도 기존 뷰는 계속 동작
* 물리적 독립성: 인덱스를 추가해도 테이블 정의는 그대로

---

## ✅ 4. 스키마 3계층 구조

| 계층         | 정의                  | 예시                |
| ---------- | ------------------- | ----------------- |
| **외부 스키마** | 사용자 관점에서 필요한 데이터 구조 | View, 화면에 필요한 데이터 |
| **개념 스키마** | DB 전체 구조 설계         | 테이블, 컬럼, 제약조건 등   |
| **내부 스키마** | 실제 데이터 저장 방식        | 인덱스, 파일 구조, 저장 포맷 |

### 연결 관계

* 외부 스키마는 개념 스키마에 매핑
* 개념 스키마는 내부 스키마에 매핑
* 이 매핑이 **정확히 정의되어 있어야** 질의 처리 및 독립성 보장이 가능함

---

## ✅ 5. 절차적 vs 비절차적 조작어

| 구분    | 절차적 조작어                 | 비절차적 조작어              |
| ----- | ----------------------- | --------------------- |
| 처리 방법 | **어떻게 처리할지** 직접 지정      | **무엇을 원하는지** 선언       |
| 대상 언어 | PL/SQL, Pro\*C, T-SQL 등 | SQL (SELECT 등)        |
| 예시    | 반복문, 조건문 포함된 로직         | `SELECT * FROM users` |
| 활용    | 복잡한 로직, 반복 처리, 조건 분기    | 단순 데이터 검색, 필터링        |

---

## ✅ 6. 데이터 사전 (Data Dictionary)

| 항목 | 설명                                                        |
| -- | --------------------------------------------------------- |
| 정의 | 테이블, 컬럼, 인덱스 등 **DB 구조 정보 저장소**                           |
| 형태 | **시스템 테이블** (`information_schema`, `pg_catalog`, `sys` 등) |
| 특징 | DBMS가 자동으로 관리, 일반 사용자는 수정 불가                              |
| 역할 | SQL 실행 시 참조, 쿼리 최적화, 자동 완성, 보안 정책 적용 등                    |

---

## ✅ 7. DBMS 내부 구성도 핵심 흐름 (그림 3-11 기준)

1. 사용자(SQL 작성)
2. → **DDL/DML 컴파일러**
3. → **질의 처리기** (랜타임 처리기, 트랜잭션 관리자 포함)
4. → **저장 데이터 관리자**
5. → **데이터 사전 + 실제 데이터베이스 반영**

이 구조를 통해 **사용자 요청이 어떻게 내부에서 처리되고 저장되는지** 흐름이 잡힘.

---

## ✅ 8. JDBC와 프리컴파일러의 차이

| 항목        | JDBC        | 프리컴파일러              |
| --------- | ----------- | ------------------- |
| 처리 시점     | 런타임에 SQL 처리 | 컴파일 전 SQL → 코드로 번역  |
| 대상 언어     | Java        | C, COBOL 등          |
| SQL 사용 방식 | 문자열로 전달     | 코드 내에 직접 SQL 작성     |
| 예시 도구     | JDBC 드라이버   | Oracle Pro\*C, ecpg |

---

## 💡 인사이트 정리

* 논리적/물리적 독립성은 시스템 유연성과 유지보수에 핵심
* 사용자별로 역할과 권한을 분리하면 보안과 운영이 쉬워진다
* SQL은 기본적으로 비절차적이지만, 실무 로직엔 절차적 언어 확장이 필요
* JDBC는 SQL을 코드에 문자열로 넣어 실행하지만, 프리컴파일러는 사전에 SQL을 번역해 넣는 방식이다
* 데이터 사전은 모든 구조 정보의 **자동 저장소**이며, DBMS의 핵심 중 하나다
