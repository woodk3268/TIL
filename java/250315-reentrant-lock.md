# 1. ReentrantLock
:자바는 synchronized와 BLOCKED 상태를 통한 임계 영역 관리의 한계를 극복하기 위해 Lock 인터페이스와 ReentrantLock 구현체를 제공한다.

## 1-1. Lock 인터페이스 설명 : 무한대기 문제 해결
- 동시성 프로그래밍에서 쓰이는 안전한 임계 영역을 위한 락을 구현하는데 사용된다.
- Lock 인터페이스는 다음과 같은 메서드를 제공한다. 대표적인 구현체로 ReentrantLock이 있다.
- `void lock()` : 락을 획득한다. 만약 다른 스레드가 이미 락을 획득했다면, 락이 풀릴 때까지 현재 스레드는 대기(WAITING)한다. 이 메서드는 인터럽트에 응답하지 않는다.
- `void lockInterruptibly()` : 락 획득을 시도하되, 다른 스레드가 인터럽트할 수 있도록 한다. 만약 다른 스레드가 이미 락을 획득했다면, 현재 스레드는 락을 획득할 때까지 대기한다.
  대기 중에 인터럽트가 발생하면 InterruptedException이 발생하며 락 획득을 포기한다.
- `boolean tryLock()` : 락 획득을 시도하고, 즉시 성공 여부를 반환한다. 만약 다른 스레드가 이미 락을 획득했다면 false를 반환하고, 그렇지 않으면 락을 획득하고 true를 반환한다.
- `boolean tryLock(long time, TimeUnit unit) : 주어진 시간동안 락 획득을 시도한다. 주어진 시간 안에 락을 획득하면 true를 반환한다. 주어진 시간이 지나도 락을 획득하지 못한 경우 false를 반환한다.
   이 메서드는 대기 중 인터럽트가 발생하면 InterruptedException이 발생하며 락 획득을 포기한다.
- `void unlock()` : 락을 해제한다. 락을 해제하면 락 획득을 대기 중인 스레드 중 하나가 락을 획득할 수 있게 된다.
  락을 획득한 스레드가 호출해야 하며, 그렇지 않으면 IllegalMonitorStateException이 발생할 수 있다.
- Condition newCondition() : Condition 객체를 생성하여 반환한다. Condition 객체는 락과 결합되어 사용되며, 스레드가 특정 조건을 기다리거나 신호를 받을 수 있도록 한다.
  이는 Object 클래스의 wait, notify, notifyAll 메서드와 유사한 역할을 한다.

## 1-2. 공정성 문제 해결
: Lock 인터페이스의 대표적인 구현체로 ReentrantLock이 있는데, 이 클래스는 스레드가 공정하게 락을 얻을 수 있는 모드를 제공한다.

### 1-2-1. 비공정 모드(Non-fair mode)
- 비공정 모드는 ReentrantLock의 기본 모드이다. 이 모드에서는 락을 먼저 요청한 스레드가 락을 먼저 획득한다는 보장이 없다.
- 락을 풀었을 때, 대기 중인 스레드 중 아무나 락을 획득할 수 있다. 이는 락을 빨리 획득할 수 있지만, 특정 스레드가 장기간 락을 획득하지 못할 가능성도 있다.
-  성능 우선 : 락을 획득하는 속도가 빠르다.
-  선점 가능 :  새로운 스레드가 기존 대기 스레드보다 먼저 락을 획득할 수 있다.
-  기아 현상 가능성 : 특정 스레드가 계속해서 락을 획득하지 못할 수도 있다.

### 1-2-2. 공정 모드(Fair mode)
- 생성자에서 true를 전달하면 된다. 예) new ReentrantLock(true)
- 공정 모드는 락을 요청한 순서대로 락을 획득할 수 있게 한다. 이는 먼저 대기한 스레드가 먼저 락을 획득하게 되어 스레드 간의 공정성을 보장한다. 그러나 이로 인해 성능이 저하될 수 있다.
- 공정성 보장 : 대기 큐에서 먼저 대기한 스레드가 락을 먼저 획득한다.
- 기아 현상 방지 : 모든 스레드가 언젠가 락을 획득할 수 있게 보장된다.
- 성능 저하 : 락을 획득하는 속도가 느려질 수 있다.

### 1-2-3. 정리
- 비공정 모드는 성능을 중시하고, 스레드가 락을 빨리 획득할 수 있지만, 특정 스레드가 계속해서 락을 획득하지 못할 수도 있다.
- 공정 모드는 스레드가 락을 획득하는 순서를 보장하여 공정성을 중시하지만, 성능이 저하될 수 있다.
- 
