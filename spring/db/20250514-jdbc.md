# JDBC ì´í•´

---

## âœ… í•™ìŠµ ì£¼ì œ

* JDBCì˜ ë“±ì¥ ë°°ê²½ ë° ì—­í• 
* í‘œì¤€ ì¸í„°í˜ì´ìŠ¤(`Connection`, `Statement`, `ResultSet`) êµ¬ì¡°
* JDBC ê¸°ë°˜ CRUD êµ¬í˜„ ë° DB ì—°ê²° íë¦„
* ìµœì‹  ë°ì´í„° ì ‘ê·¼ ê¸°ìˆ (JdbcTemplate, MyBatis, JPA) ë¹„êµ

---

## ğŸ§© í•µì‹¬ ê°œë… ìš”ì•½

| ê°œë…                            | ì„¤ëª…                                                     |
| ----------------------------- | ------------------------------------------------------ |
| JDBC                          | Javaì—ì„œ DBì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ í‘œì¤€ API                              |
| DriverManager                 | DB ë“œë¼ì´ë²„ íƒìƒ‰ ë° ì»¤ë„¥ì…˜ íšë“ ê¸°ëŠ¥ ì œê³µ                              |
| Connection                    | DB ì—°ê²° ê°ì²´                                               |
| Statement / PreparedStatement | SQL ì‹¤í–‰ ê°ì²´ (íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì§€ì›)                                |
| ResultSet                     | SELECT ì¿¼ë¦¬ ê²°ê³¼ ì €ì¥ ê°ì²´                                     |
| JDBC Driver                   | DB ë²¤ë”ê°€ ì œê³µí•˜ëŠ” JDBC ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´                             |
| SQL Mapper                    | SQLì€ ì§ì ‘ ì‘ì„±í•˜ë˜, ë§¤í•‘ê³¼ ë°˜ë³µ ì½”ë“œ ìƒëµ (ex. MyBatis, JdbcTemplate) |
| ORM                           | ê°ì²´-í…Œì´ë¸” ë§¤í•‘ ìë™í™”, SQL ì‘ì„± ì—†ì´ ë°ì´í„° ì¡°ì‘ ê°€ëŠ¥ (ex. JPA)           |

---

## ğŸ› ï¸ JDBC ê°œë°œ ë‹¨ê³„ íë¦„

### 1. DB ì—°ê²°

```java
Connection con = DriverManager.getConnection(url, username, password);
```

* ë“œë¼ì´ë²„ íƒìƒ‰ â†’ URL í™•ì¸ â†’ ë“œë¼ì´ë²„ ì„ íƒ â†’ ì»¤ë„¥ì…˜ ìƒì„±

### 2. ë“±ë¡ (INSERT)

```java
PreparedStatement pstmt = con.prepareStatement("INSERT INTO member VALUES (?, ?)");
pstmt.setString(1, "id"); pstmt.setInt(2, 1000);
pstmt.executeUpdate(); // insert ì‹¤í–‰
```

### 3. ì¡°íšŒ (SELECT)

```java
ResultSet rs = pstmt.executeQuery();
while (rs.next()) {
  rs.getString("member_id");
  rs.getInt("money");
}
```

### 4. ìˆ˜ì • / ì‚­ì œ

```java
pstmt = con.prepareStatement("UPDATE member SET money=? WHERE member_id=?");
pstmt.setInt(1, 2000); pstmt.setString(2, "id");
pstmt.executeUpdate(); // update ì‹¤í–‰
```

### 5. ë¦¬ì†ŒìŠ¤ ì •ë¦¬ (í•­ìƒ finallyì—ì„œ)

```java
rs.close();
pstmt.close();
con.close();
```

---

## âœ… JDBC ë“œë¼ì´ë²„ ë§¤í•‘ êµ¬ì¡°: íë¦„ ìš”ì•½

1. **ê°œë°œìê°€ JDBC URLì„ ì…ë ¥**
   ì˜ˆ:

   ```java
   String url = "jdbc:mysql://localhost:3306/testdb";
   ```

2. **DriverManager.getConnection(url, ...) í˜¸ì¶œ**

3. **DriverManagerê°€ ë“±ë¡ëœ ëª¨ë“  JDBC ë“œë¼ì´ë²„ì—ê²Œ ìš”ì²­ì„ ì „ë‹¬**

4. ê° ë“œë¼ì´ë²„ì˜ `acceptsURL(String url)` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì–´
   â†’ ìì‹ ì´ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” URLì¸ì§€ í™•ì¸

5. **URL íŒ¨í„´ì´ ë§¤ì¹­ë˜ëŠ” ë“œë¼ì´ë²„ê°€ `connect()` ë©”ì„œë“œ ì‹¤í–‰ â†’ Connection ìƒì„±**

---

## ğŸ”§ ì‹¤ì œ ë™ì‘ ì˜ˆì‹œ (MySQL)

```java
DriverManager.getConnection("jdbc:mysql://localhost:3306/testdb", user, password);
```

â†’ ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ìŒì´ í˜¸ì¶œë¨:

```java
for (Driver driver : registeredDrivers) {
    if (driver.acceptsURL("jdbc:mysql://...")) {
        return driver.connect(url, props);
    }
}
```

---

### ğŸ“Œ JDBCì˜ í•œê³„ì™€ ëŒ€ì•ˆ ê¸°ìˆ 

| ë°©ì‹         | ì¥ì               | ë‹¨ì               | ëŒ€í‘œ ê¸°ìˆ                  |
| ---------- | --------------- | --------------- | --------------------- |
| ì§ì ‘ JDBC    | ëª…í™•í•œ ë¡œì§ ì œì–´       | ì½”ë“œ ë°˜ë³µ, ì˜ˆì™¸ ì²˜ë¦¬ ë³µì¡ | -                     |
| SQL Mapper | SQL ììœ ë„, ìë™ ë§¤í•‘  | SQL ì§ì ‘ ì‘ì„± í•„ìš”    | MyBatis, JdbcTemplate |
| ORM        | SQL ì—†ì´ ê°ì²´ ì¤‘ì‹¬ ê°œë°œ | í•™ìŠµê³¡ì„ , ì¶”ìƒí™” ë¹„ìš©    | JPA, Hibernate        |

---

### ğŸ’¡ ì¸ì‚¬ì´íŠ¸

* JDBCëŠ” DB ì ‘ê·¼ì˜ ê¸°ë³¸ êµ¬ì¡°ì´ì ëª¨ë“  ê³ ìˆ˜ì¤€ ê¸°ìˆ ì˜ ê¸°ë°˜
* `PreparedStatement`ëŠ” SQL Injection ë°©ì§€ì™€ ì„±ëŠ¥ í–¥ìƒì— í•„ìˆ˜
* ë¦¬ì†ŒìŠ¤ ì •ë¦¬ë¥¼ ëˆ„ë½í•˜ë©´ ì»¤ë„¥ì…˜ ëˆ„ìˆ˜ë¡œ ì¥ì•  ë°œìƒ ê°€ëŠ¥
* JPAë¥¼ ì“°ë”ë¼ë„ JDBC ê°œë…ì€ ë°˜ë“œì‹œ ìˆ™ì§€ í•„ìš”

---

